let pokemonRepository=function(){let t=[];function e(t){o();let e=t.detailsUrl;return fetch(e).then((function(t){return t.json()})).then((function(e){t.imageUrlFront=e.sprites.front_default,t.imageUrlBack=e.sprites.back_default,t.height=e.height,t.weight=e.weight,t.types=e.types,t.abilities=e.abilities,i()})).catch((function(t){console.error(t),i()}))}function n(t){e(t).then((function(){!function(t){let e=$(".modal-body"),n=$(".modal-title");$(".modal-header");n.empty(),e.empty();let o=$("<h1>"+t.name+"</h1>"),i=$('<img class="modal-img" style="width:50%">');i.attr("src",t.imageUrlFront);let a=$('<img class="modal-img" style="width:50%">');a.attr("src",t.imageUrlBack);let l=$("<p>height: "+t.height+"</p>"),s=$("<p>weight: "+t.weight+"</p>");n.append(o),e.append(i),e.append(a),e.append(l),e.append(s)}(t)}))}function o(){document.getElementById("loading-message").style.display="block"}function i(){document.getElementById("loading-message").style.display="none"}return{add:function(e){t.push(e)},getAll:function(){return t},addListItem:function(t){let e=document.querySelector(".pokemon-list"),o=document.createElement("li"),i=document.createElement("button");i.innerText=t.name,i.classList.add("btn"),i.classList.add("btn-primary"),i.setAttribute("data-target","#pokemonModal"),i.setAttribute("data-toggle","modal"),o.classList.add("list-group-item"),o.appendChild(i),e.appendChild(o),i.addEventListener("click",(function(e){n(t)}))},showDetails:n,loadList:function(){return o(),fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then((function(t){return t.json()})).then((function(t){t.results.forEach((function(t){let e={name:t.name,detailsUrl:t.url};pokemonRepository.add(e)})),i()})).catch((function(t){console.error(t),i()}))},loadDetails:e}}();pokemonRepository.loadList().then((function(){pokemonRepository.getAll().forEach((function(t){pokemonRepository.addListItem(t)}))}));